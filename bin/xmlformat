#!/usr/bin/python3
#
# xmlformat
#

import libs.commandlib, libs.xml.formatting, sys 

class XMLTool(libs.commandlib.CommandLineTool):
    def __init__(self,):
        super().__init__()
        self.applicationName = 'xmlformat'

    def help(self, *args):
        self.warn(*args)
        self.warn('xmlformat - formats xml')
        self.warn('xmlformat [FILE, ...]')
        sys.exit(2)

    def processArguments(self, files):
        if len(files) == 0:
            self.error('no input files')
        else:
            for file in files:
                self.processFile(file)

    def processFile(self, file):
        with open(file) as stream:
            libs.xml.formatting.XMLFormatter().process(stream, sys.stdout)

if __name__ == '__main__':
    XMLTool().processCommandLine()

